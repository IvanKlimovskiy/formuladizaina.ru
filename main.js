(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{t:()=>H,X:()=>G});var t=document.querySelector(".nav-menu__burger-menu"),n=document.querySelector(".nav-menu-small__overlay"),r=document.querySelector(".nav-menu-small"),o=document.querySelector(".nav-menu-small__close-button"),i=document.querySelector(".button-to-top"),c=document.querySelector(".tinkoff-banner"),a=document.querySelector(".tinkoff-banner__button"),l=document.querySelector(".popup_type_image"),s=document.querySelector(".popup__image"),u=document.querySelector(".popup_type_form"),d=document.querySelector(".popup_type_tinkoff-banner"),m=Array.from(document.querySelectorAll(".button_type_popup")),f=Array.from(document.querySelectorAll(".popup__close-button")),p=Array.from(document.querySelectorAll(".popup")),y=document.querySelector(".popup__title"),_=document.querySelector(".messenger__button"),v=document.querySelector(".messenger__links"),g=document.querySelector("#overlay"),h=document.querySelector(".messenger"),b=Array.from(document.querySelectorAll(".messenger__link")),S=Array.from(document.querySelectorAll(".gallery__main-item")),L=document.querySelector(".our-production__slider-button_type_next"),E=document.querySelector(".our-production__slider-button_type_prev"),q=document.querySelector(".our-production__slider-wrapper"),k=document.querySelector(".our-production__slider-wrapper").childElementCount,w=document.querySelector(".popup__button-confirmation"),A=document.querySelector(".popup_type_send-form-confirmation"),C=document.querySelector(".popup__subtitle_type_send-form-confirmation"),x=Array.from(document.forms),T=Array.from(document.querySelectorAll("input[name=agreement]")),j=document.querySelector(".root"),O=Array.from(document.querySelectorAll(".nav-menu-small__item-link")),R=document.querySelector(".form_type_popup"),W=function(){j.classList.add("root_scroll_disabled"),j.style.paddingRight=H,c.style.marginRight=H,c.style.width="calc(100% - ".concat(H,")"),h.style.paddingRight=H},X=function(){setTimeout((function(){j.classList.remove("root_scroll_disabled"),j.style.paddingRight="0",c.style.width="100%",h.style.paddingRight="0"}),200)},B=function(e){return e.some((function(e){return!e.validity.valid}))},D=function(e,t,n){t.classList.remove(n.inputErrorClass),e.querySelector(".".concat(t.id,"-error")).textContent=""},M=function(e){var t=e.querySelector(".form__submit");t.classList.add("form__submit_disabled"),t.disabled=!0},P=function(e,t){t.target.closest(".form").disabled=!e};f.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".popup");U(t)}))})),p.forEach((function(e){e.addEventListener("click",(function(t){(t.target.classList.contains("popup")||t.target.classList.contains("nav-menu-small__overlay"))&&U(e)}))}));var I=function(){X(),n.classList.remove("nav-menu-small__overlay_active"),r.classList.remove("nav-menu-small_active")},$=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_opened");U(t)}},V=function(e){"Enter"===e.key&&document.querySelector(".popup__button-confirmation").click()},F=function(e){var t;e.classList.contains("popup_type_form")&&(t=Array.from(R.querySelectorAll(".form__input"))).forEach((function(e){B(t)&&D(R,e,G)})),e.classList.contains("popup_type_send-form-confirmation")&&window.addEventListener("keydown",V),e.classList.add("popup_opened"),W(),window.addEventListener("keydown",$)},U=function(e){e.classList.contains("popup_type_form")||R.reset(),e.classList.contains("popup_type_image")&&setTimeout((function(){s.src="",s.alt=""}),200),e.classList.remove("popup_opened"),X(),window.removeEventListener("keydown",$),e.classList.contains("popup_type_send-form-confirmation")&&(window.removeEventListener("keydown",V),X(),window.removeEventListener("keydown",$))};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z,G={formElement:".form",inputElement:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__input_type_error",errorClass:".form__input-error"},H=window.innerWidth-j.offsetWidth+"px",J=0,K=document.querySelector(".our-production__slider-image").offsetWidth;t.addEventListener("click",(function(){W(),n.classList.add("nav-menu-small__overlay_active"),r.classList.add("nav-menu-small_active")})),o.addEventListener("click",I),n.addEventListener("click",(function(e){e.target.classList.contains("nav-menu-small__overlay")&&I()})),m.forEach((function(e){e.addEventListener("click",(function(){y.textContent=e.textContent,F(u)}))})),a.addEventListener("click",(function(){F(d)})),b.forEach((function(e){e.addEventListener("click",(function(){v.classList.remove("messenger__links_active"),g.style.display="none"}))})),document.addEventListener("click",(function(e){"overlay"===e.target.id&&(v.classList.remove("messenger__links_active"),g.style.display="none"),e.target===_&&(v.classList.toggle("messenger__links_active"),g.style.display="block")})),S.forEach((function(e){e.addEventListener("click",(function(e){F(l),s.src=e.target.src,s.alt=e.target.alt}))})),L.addEventListener("click",(function(){L.disabled=!0,J+=K,q.style.transform="translateX(-".concat(J,"px)"),J===K*k&&(q.style.transform="translateX(0)",J=0),setTimeout((function(){L.disabled=!1}),1e3)})),E.addEventListener("click",(function(){E.disabled=!0,J-=K,q.style.transform="translateX(-".concat(J,"px)"),J===-K&&(q.style.transform="translateX(-".concat(K*(k-1),"px)"),J=K*(k-1)),setTimeout((function(){E.disabled=!1}),1e3)})),w.addEventListener("click",(function(){U(A)})),x.forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault(),P(!1,t);var n=new FormData(e);fetch("sendmail.php",{method:"POST",body:n}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка:".concat(e.status))})).then((function(e){C.textContent=e.message,U(u)})).catch((function(e){C.textContent=e.message,U(u)})).finally((function(){P(!0,t),setTimeout((function(){F(A)}),200)})),e.reset(),M(e)}))})),z=G,Array.from(document.querySelectorAll(z.formElement)).forEach((function(e){Array.from(e.querySelectorAll(z.inputElement)).forEach((function(t){!function(e,t,n){var r=Array.from(e.querySelectorAll(n.inputElement));t.addEventListener("input",(function(){!function(e,t,n,r){t.validity.patternMismatch?t.setCustomValidity(n):t.setCustomValidity(""),t.validity.valid?D(e,t,r):function(e,t,n,r){t.classList.add(r.inputErrorClass),e.querySelector(".".concat(t.id,"-error")).textContent=n}(e,t,t.validationMessage,r)}(e,t,t.dataset.errorMessage,n),function(e,t,n){var r=t.querySelector(n.submitButtonSelector),o=t.querySelector("input[name=agreement]");e||!o.checked?(r.classList.add(n.inactiveButtonClass),r.disabled=!0):(r.classList.remove(n.inactiveButtonClass),r.disabled=!1)}(B(r),e,n)}))}(e,t,z)}))})),T.forEach((function(e){e.addEventListener("change",(function(e){var t,n=e.target.closest(".form"),r=n.querySelector("input[name=agreement]");B(Array.from(n.querySelectorAll(".form__input")))||!r.checked?M(n):((t=n.querySelector(".form__submit")).classList.remove("form__submit_disabled"),t.disabled=!1)}))})),O.forEach((function(e){e.addEventListener("click",(function(){X(),n.classList.remove("nav-menu-small__overlay_active"),r.classList.remove("nav-menu-small_active")}))})),screen.orientation.addEventListener("change",(function(){H=window.innerWidth-j.offsetWidth+"px",K=document.querySelector(".our-production__slider-image").offsetWidth,q.style.transform="translateX(0)",J=0})),window.addEventListener("scroll",(function(){window.scrollY>=2e3?i.style.display="flex":i.style.display="none"})),i.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__";function n(e){var n=e.keyCode,r=t,o=r.replace(/\D/g,""),i=this.value.replace(/\D/g,""),c=0,a=r.replace(/[_\d]/g,(function(e){return c<i.length?i.charAt(c++)||o.charAt(c):e}));-1!==(c=a.indexOf("_"))&&(a=a.slice(0,c));var l=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=a),"blur"===e.type&&this.value.length<5&&(this.value="")}var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}(document.querySelectorAll(e));try{for(o.s();!(r=o.n()).done;){var i=r.value;i.addEventListener("input",n),i.addEventListener("focus",n),i.addEventListener("blur",n)}}catch(e){o.e(e)}finally{o.f()}}('input[name="number"]')})();